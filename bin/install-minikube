#!/usr/bin/env bash
#
# After running this script, simply start minikube:
#   minikube start --vm-driver kvm2
#

### MINIKUBE

curl -Lo ~/bin/minikube https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
chmod +x ~/bin/minikube 

### KUBECTL

KUBECTL_VERSION=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt)

curl -Lo ~/bin/kubectl \
  https://storage.googleapis.com/kubernetes-release/release/$KUBECTL_VERSION/bin/linux/amd64/kubectl
  chmod +x ~/bin/kubectl

### DOCKER MACHINE DRIVER KVM2

curl -Lo ~/bin/docker-machine-driver-kvm2 https://storage.googleapis.com/minikube/releases/latest/docker-machine-driver-kvm2 
chmod +x ~/bin/docker-machine-driver-kvm2

### INSTALL BASH COMPLETION SCRIPTS, THEN SOURCE

mkdir -p ~/bin/bash_completion.d/

minikube completion bash > ~/bin/bash_completion.d/minikube
kubectl  completion bash > ~/bin/bash_completion.d/kubectl

source ~/bin/bash_completion.d/minikube
source ~/bin/bash_completion.d/kubectl
